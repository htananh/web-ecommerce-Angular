<div class="py-10">
    <main class="lg:px-24 mx-8">
        <div class="flex items-baseline justify-between  sm:px-6">
            <p class="lg:text-3xl font-normal ">
                Sản Phẩm <span class="lg:text-xl active">> {{brand}}</span>
            </p>
            <div class="flex items-center">
               
                <button class="lg:text-lg" mat-button  [matMenuTriggerFor]="Sort">Xếp Theo Giá</button>
                <mat-menu #Sort="matMenu">
                    <button mat-menu-item (click)="sortItems('h2l')">Cao đến thấp</button>
                    <button mat-menu-item (click)="sortItems('l2h')">Thấp đến cao</button>
                  </mat-menu>
                </div>
          
        </div>
        <mat-divider></mat-divider>
        <section class="pt-4">
            <div class="grid grid-cols-1 gap-8 gap-y-10 lg:grid-cols-7 ">
                <div class="hidden lg:block">
                    <p class="text-xl">Lọc Theo  
                    <mat-icon class="ml-2">filter_list</mat-icon>
                </p> 
                <form class="hidden lg:block">
                    <div *ngFor="let item of filterBrand">
                        <div class="pt-6 lg:ml-4 font-medium">{{item.name}}</div>
                        <mat-divider class="w-2/5"></mat-divider>
                        <div class="pt-4">
                            <mat-radio-group>
                            <div *ngFor="let option of item.option">
                              
                               
                               <mat-radio-button   [color]="'primary'"
                               [id]="item.id"
                               [value]="option.value"
                               (click)="handlefilterSimple(option.value,item.id)"
                               ><span>{{option.label}}</span></mat-radio-button>
                               
                            </div>
        </mat-radio-group>
                        </div>
                    </div> 
                    <div *ngFor="let item of filterColor">
                        <div class="pt-6 lg:ml-4 font-medium">{{item.name}}</div>
                        <mat-divider class="w-2/5"></mat-divider>
                        <div class="pt-4">
                            <div *ngFor="let option of item.option">
                                <mat-checkbox 
                                [color]="'primary'"
                                [id]="item.id"
                                [value]="option.value"
                                (click)="handlefilterMuiltiple(option.value,item.id)"
                               >
                               <span>{{option.label}}</span>
        </mat-checkbox>
                            </div>
                        </div>
                    </div>  
                    <div *ngFor="let item of filterPrice">
                        <div class="pt-6 lg:ml-4 font-medium">{{item.name}}</div>
                        <mat-divider class="w-2/5"></mat-divider>
                        <div class="pt-4">
                            <mat-radio-group>
                            <div *ngFor="let option of item.option">
                              
                               
                               <mat-radio-button   [color]="'primary'"
                               [id]="item.id"
                               [value]="option.value"
                               (click)="handlefilterSimple(option.value,item.id)"
                               ><span>{{option.label}}</span></mat-radio-button>
                               
                            </div>
        </mat-radio-group>
                        </div>
                    </div>  
                </form> 
            </div>
            <div class="lg:col-span-6">

                <p class="text-xl"> Sản Phẩm</p>
                 <div class="flex flex-wrap justify-center">

                  

                    <!-- <ng-container *ngFor="let item of products">
                       
                        <div *ngIf="item.brand == brand && (colors == undefined )&& (price == undefined )">
                            <app-product-cart [product] = "item"></app-product-cart>  
                           
                        </div>
                          
                        <div *ngIf="item.brand == brand && (colors != undefined )&& (price == undefined )">
                            <div *ngFor="let color of colors">
                                <div *ngIf=" (item.color == color) ">
                                    <app-product-cart [product] = "item"></app-product-cart>  
                                   
                                </div>
                               
                            </div>
                        </div>
                        
                        <div *ngIf="item.brand == brand && (colors == undefined )&& (price != undefined )">
                            <div *ngIf=" (item.discountedPrice < price) ">
                                <app-product-cart [product] = "item"></app-product-cart>  
                               
                            </div>
                        </div>
                        
                        <div *ngIf="item.brand == brand && (colors != undefined )&& (price != undefined )">
                            <div *ngFor="let color of colors">
                                <div *ngIf=" (item.color == color) &&(item.discountedPrice < price)">
                                    <app-product-cart [product] = "item"></app-product-cart>  
                                   
                                </div>
                               
                            </div>
                        </div>
                     
                    </ng-container> -->
                   <ng-container *ngIf="brand=='iphone'">

                    <ng-container *ngFor="let item of iphone">
                   
                      
                      
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price == undefined )">
                           

                                   <app-product-cart [product] = "item"></app-product-cart>  
                           
                       
                          
                       </div>
                        
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price == undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) ">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price != undefined )">
                           <div *ngIf=" (item.discountedPrice < price) ">
                               <app-product-cart [product] = "item"></app-product-cart>  
                              
                           </div>
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price != undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) &&(item.discountedPrice < price)">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                    
                   </ng-container>
                   </ng-container>
                
                   <ng-container *ngIf="brand=='samsung'">

                    <ng-container *ngFor="let item of samsung">
                   
                      
                       
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price == undefined )">
                           

                                   <app-product-cart [product] = "item"></app-product-cart>  
                           
                       
                          
                       </div>
                        
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price == undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) ">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price != undefined )">
                           <div *ngIf=" (item.discountedPrice < price) ">
                               <app-product-cart [product] = "item"></app-product-cart>  
                              
                           </div>
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price != undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) &&(item.discountedPrice < price)">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                    
                   </ng-container>
                   </ng-container>
                   <ng-container *ngIf="brand=='vivo'">

                    <ng-container *ngFor="let item of vivo">
                   
                      
                    
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price == undefined )">
                           

                                   <app-product-cart [product] = "item"></app-product-cart>  
                           
                       
                          
                       </div>
                        
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price == undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) ">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price != undefined )">
                           <div *ngIf=" (item.discountedPrice < price) ">
                               <app-product-cart [product] = "item"></app-product-cart>  
                              
                           </div>
                       </div>
                     
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price != undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) &&(item.discountedPrice < price)">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                    
                   </ng-container>
                   </ng-container>
                   <ng-container *ngIf="brand=='oppo'">

                    <ng-container *ngFor="let item of oppo">
                   
                      
                     
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price == undefined )">
                           

                                   <app-product-cart [product] = "item"></app-product-cart>  
                           
                       
                          
                       </div>
                       
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price == undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) ">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                      
                       <div *ngIf="item.brand == brand && (colors == undefined )&& (price != undefined )">
                           <div *ngIf=" (item.discountedPrice < price) ">
                               <app-product-cart [product] = "item"></app-product-cart>  
                              
                           </div>
                       </div>
                      
                       <div *ngIf="item.brand == brand && (colors != undefined )&& (price != undefined )">
                           <div *ngFor="let color of colors">
                               <div *ngIf=" (item.color == color) &&(item.discountedPrice < price)">
                                   <app-product-cart [product] = "item"></app-product-cart>  
                                  
                               </div>
                              
                           </div>
                       </div>
                    
                   </ng-container>
                   </ng-container>
                </div>
                <div class="text-center">

                    <button *ngIf="showMoreButton" (click)="xemthem()" class="  xemthem">xem thêm</button>
                    <button *ngIf="!showMoreButton" (click)="thugon()" class="  xemthem">thu gọn</button>
                </div>
            </div>
            
            </div>
        </section>
    </main>
</div>
